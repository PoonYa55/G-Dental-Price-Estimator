<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏≥‡∏ü‡∏±‡∏ô | ‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏°‡∏≠‡∏´‡∏ç‡∏¥‡∏á</title>

    <!-- Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@200;300;400;500;600&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Kanit', 'sans-serif'] },
                    colors: {
                        primary: { 50: '#f0f9ff', 100: '#e0f2fe', 400: '#38bdf8', 500: '#0ea5e9', 600: '#0284c7', 800: '#075985', 900: '#0c4a6e' },
                        teal: { 50: '#f0fdfa', 100: '#ccfbf1', 500: '#14b8a6', 600: '#0d9488', 900: '#134e4a' },
                        gold: { 400: '#fbbf24', 500: '#f59e0b', 600: '#d97706' },
                    },
                    boxShadow: {
                        'glass': '0 8px 32px 0 rgba(31, 38, 135, 0.15)',
                        'glow': '0 0 15px rgba(14, 165, 233, 0.3)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.8s ease-out forwards',
                        'slide-up': 'slideUp 0.6s ease-out forwards',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        slideUp: { '0%': { transform: 'translateY(20px)', opacity: '0' }, '100%': { transform: 'translateY(0)', opacity: '1' } }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background: linear-gradient(135deg, #f0f9ff 0%, #cbebff 100%);
            background-attachment: fixed;
            min-height: 100vh;
        }

        /* Ambient Background Shapes */
        .bg-shape {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            z-index: -1;
            opacity: 0.6;
        }

        .bg-shape-1 {
            background: #6dd5fa;
            width: 400px;
            height: 400px;
            top: -100px;
            left: -100px;
            animation: float 10s infinite ease-in-out;
        }

        .bg-shape-2 {
            background: #ffaa91;
            width: 300px;
            height: 300px;
            bottom: 50px;
            right: -50px;
            animation: float 12s infinite ease-in-out reverse;
        }

        @keyframes float {
            0% {
                transform: translate(0, 0);
            }

            50% {
                transform: translate(20px, 30px);
            }

            100% {
                transform: translate(0, 0);
            }
        }

        /* Glass Panel */
        .glass-panel {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.10);
        }

        /* Custom Scrollbar for Select */
        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%230ea5e9' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1.2em;
        }

        /* Radio Card Interactions */
        .radio-card:checked+div {
            border-color: #0ea5e9;
            background: linear-gradient(to bottom right, #f0f9ff, #e0f2fe);
            color: #0c4a6e;
            box-shadow: 0 4px 12px rgba(14, 165, 233, 0.15);
            transform: translateY(-2px);
        }

        .radio-card-wrapper:hover {
            transform: translateY(-2px);
        }

        .premium-shadow {
            box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>

<body class="flex items-center justify-center p-4 lg:p-8 antialiased text-gray-700">

    <!-- Ambient Backgrounds -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="bg-shape bg-shape-1"></div>
        <div class="bg-shape bg-shape-2"></div>
    </div>

    <div class="glass-panel w-full max-w-xl rounded-[2rem] overflow-hidden relative premium-shadow animate-fade-in">

        <!-- Header -->
        <div
            class="relative bg-gradient-to-br from-primary-900 to-primary-800 p-8 text-white text-center overflow-hidden">
            <!-- Decorative light effects -->
            <div
                class="absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full blur-3xl transform translate-x-1/3 -translate-y-1/3">
            </div>
            <div
                class="absolute bottom-0 left-0 w-32 h-32 bg-teal-400 opacity-20 rounded-full blur-2xl transform -translate-x-1/3 translate-y-1/3">
            </div>

            <div class="relative z-10 animate-slide-up">
                <!-- Logo -->
                <div class="mb-4 flex justify-center">
                    <div
                        class="p-1.5 bg-white/10 rounded-full backdrop-blur-md border border-white/20 shadow-2xl relative group">
                        <div
                            class="absolute inset-0 bg-white/20 rounded-full blur-lg opacity-50 group-hover:opacity-75 transition-opacity">
                        </div>
                        <img src="logo.jpg" alt="Clinic Logo"
                            class="relative w-28 h-28 rounded-full object-cover border-4 border-white/30 shadow-inner">
                    </div>
                </div>

                <h1 class="text-3xl font-semibold tracking-wide text-white drop-shadow-md">‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏°‡∏≠‡∏´‡∏ç‡∏¥‡∏á</h1>
                <p class="text-primary-100 text-sm mt-1 font-light tracking-wider opacity-90">PREMIUM DENTAL CLINIC</p>

                <!-- Contact Info -->
                <div class="mt-5 flex flex-col sm:flex-row items-center justify-center gap-3">
                    <a href="tel:0996295425"
                        class="flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-teal-500/20 rounded-full text-xs font-medium text-white backdrop-blur border border-white/10 transition-all hover:scale-105 hover:border-teal-400/30 group">
                        <span class="bg-white/20 p-1 rounded-full"><svg class="w-3 h-3" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z">
                                </path>
                            </svg></span>
                        099-629-5425
                    </a>
                    <a href="https://www.facebook.com/yingdentalclinic" target="_blank"
                        class="flex items-center gap-2 px-4 py-2 bg-blue-600/20 hover:bg-blue-600/40 rounded-full text-xs font-medium text-white backdrop-blur border border-white/10 transition-all hover:scale-105 hover:border-blue-400/30 group">
                        <span class="bg-blue-600/30 p-1 rounded-full"><svg class="w-3 h-3" fill="currentColor"
                                viewBox="0 0 24 24">
                                <path
                                    d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
                            </svg></span>
                        Ying Dental Clinic
                    </a>
                </div>

                <div class="mt-4 flex justify-center opacity-60">
                    <span class="px-3 py-1 rounded-full text-[10px] text-white/80 border border-white/5 tracking-tight">
                        ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤ & ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥
                    </span>
                </div>
            </div>
        </div>

        <div class="p-8 space-y-8 relative">

            <!-- Step 1: Treatment Selection -->
            <div class="animate-slide-up" style="animation-delay: 0.1s;">
                <label class="block text-gray-800 text-sm font-medium mb-3 pl-1 flex items-center gap-2">
                    <span
                        class="flex items-center justify-center w-6 h-6 rounded-full bg-primary-100 text-primary-600 text-xs font-bold">1</span>
                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤
                </label>
                <div class="relative group">
                    <select id="serviceSelect" onchange="calculatePrice()"
                        class="w-full bg-white/80 border border-gray-200 text-gray-700 text-base rounded-2xl focus:ring-4 focus:ring-primary-100 focus:border-primary-400 block p-4 shadow-sm transition-all duration-300 hover:border-primary-300 cursor-pointer outline-none">
                        <option value="0" data-price="0" data-type="none">-- ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£... --</option>
                    </select>
                </div>
            </div>

            <!-- Step 2: Payment Type -->
            <div class="animate-slide-up" style="animation-delay: 0.2s;">
                <label class="block text-gray-800 text-sm font-medium mb-3 pl-1 flex items-center gap-2">
                    <span
                        class="flex items-center justify-center w-6 h-6 rounded-full bg-primary-100 text-primary-600 text-xs font-bold">2</span>
                    ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
                </label>
                <div class="grid grid-cols-3 gap-3">
                    <label class="cursor-pointer radio-card-wrapper transition-all duration-300">
                        <input type="radio" name="paymentType" value="gold" class="radio-card hidden"
                            onchange="calculatePrice()">
                        <div
                            class="border border-gray-100 bg-white/60 rounded-2xl p-4 text-center h-full flex flex-col justify-center items-center transition-all duration-300">
                            <span class="text-3xl mb-2 filter drop-shadow-sm">ÔøΩ</span>
                            <span class="text-sm font-medium text-gray-600">‡∏ö‡∏±‡∏ï‡∏£‡∏ó‡∏≠‡∏á</span>
                            <span class="text-[10px] text-gray-400 mt-1">30 ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                    </label>
                    <label class="cursor-pointer radio-card-wrapper transition-all duration-300">
                        <input type="radio" name="paymentType" value="sso" class="radio-card hidden"
                            onchange="calculatePrice()">
                        <div
                            class="border border-gray-100 bg-white/60 rounded-2xl p-4 text-center h-full flex flex-col justify-center items-center transition-all duration-300 relative overflow-hidden">
                            <span class="text-3xl mb-2 filter drop-shadow-sm">üè•</span>
                            <span class="text-sm font-medium text-gray-600">‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°</span>
                            <span
                                class="text-[10px] bg-red-50 text-red-500 px-2 py-0.5 rounded-full mt-1 font-semibold">900.-</span>
                        </div>
                    </label>
                    <label class="cursor-pointer radio-card-wrapper transition-all duration-300">
                        <input type="radio" name="paymentType" value="cash" class="radio-card hidden" checked
                            onchange="calculatePrice()">
                        <div
                            class="border border-gray-100 bg-white/60 rounded-2xl p-4 text-center h-full flex flex-col justify-center items-center transition-all duration-300">
                            <span class="text-3xl mb-2 filter drop-shadow-sm">ÔøΩ</span>
                            <span class="text-sm font-medium text-gray-600">‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</span>
                        </div>
                    </label>
                </div>
            </div>

            <!-- Extra Services -->
            <div class="bg-gray-50/80 rounded-2xl p-5 border border-gray-100/80 animate-slide-up"
                style="animation-delay: 0.3s;">
                <p class="text-gray-500 text-xs font-bold uppercase tracking-wide mb-3">Add-on Services (‡πÄ‡∏ö‡∏¥‡∏Å‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)</p>
                <div class="flex flex-wrap gap-4">
                    <label class="flex items-center space-x-3 cursor-pointer group">
                        <div class="relative flex items-center">
                            <input type="checkbox" id="checkXray" value="500" onchange="calculatePrice()"
                                class="peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-gray-300 transition-all checked:border-teal-500 checked:bg-teal-500 hover:border-teal-400">
                            <svg class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-3.5 h-3.5 pointer-events-none opacity-0 peer-checked:opacity-100 text-white transition-opacity"
                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                        </div>
                        <span class="text-gray-700 text-sm group-hover:text-teal-700 transition-colors">‡πÄ‡∏≠‡∏Å‡∏ã‡πÄ‡∏£‡∏¢‡πå
                            (+500)</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer group">
                        <div class="relative flex items-center">
                            <input type="checkbox" id="checkRetainer" value="3000" onchange="calculatePrice()"
                                class="peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-gray-300 transition-all checked:border-teal-500 checked:bg-teal-500 hover:border-teal-400">
                            <svg class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-3.5 h-3.5 pointer-events-none opacity-0 peer-checked:opacity-100 text-white transition-opacity"
                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                        </div>
                        <span class="text-gray-700 text-sm group-hover:text-teal-700 transition-colors">‡∏£‡∏µ‡πÄ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå
                            (+3,000)</span>
                    </label>
                </div>
            </div>

            <!-- Symptoms Screening -->
            <div class="animate-slide-up" style="animation-delay: 0.35s;">
                <label class="block text-gray-800 text-sm font-medium mb-3 pl-1 flex items-center gap-2">
                    <span class="text-xl">ü¶∑</span>
                    ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 1)
                </label>
                <div class="grid grid-cols-2 gap-3">
                    <label
                        class="flex items-center space-x-3 p-3 bg-white/50 rounded-xl border border-gray-100 cursor-pointer hover:bg-white/80 transition-all">
                        <input type="checkbox" name="symptom" value="‡∏ü‡∏±‡∏ô‡πÅ‡∏ï‡∏Å"
                            class="rounded text-primary-500 focus:ring-primary-500 border-gray-300">
                        <span class="text-sm text-gray-700">‡∏ü‡∏±‡∏ô‡πÅ‡∏ï‡∏Å</span>
                    </label>
                    <label
                        class="flex items-center space-x-3 p-3 bg-white/50 rounded-xl border border-gray-100 cursor-pointer hover:bg-white/80 transition-all">
                        <input type="checkbox" name="symptom" value="‡∏ü‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π/‡∏ú‡∏∏"
                            class="rounded text-primary-500 focus:ring-primary-500 border-gray-300">
                        <span class="text-sm text-gray-700">‡∏ü‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π/‡∏ú‡∏∏</span>
                    </label>
                    <label
                        class="flex items-center space-x-3 p-3 bg-white/50 rounded-xl border border-gray-100 cursor-pointer hover:bg-white/80 transition-all">
                        <input type="checkbox" name="symptom" value="‡∏õ‡∏ß‡∏î‡∏ü‡∏±‡∏ô"
                            class="rounded text-primary-500 focus:ring-primary-500 border-gray-300">
                        <span class="text-sm text-gray-700">‡∏õ‡∏ß‡∏î‡∏ü‡∏±‡∏ô</span>
                    </label>
                    <label
                        class="flex items-center space-x-3 p-3 bg-white/50 rounded-xl border border-gray-100 cursor-pointer hover:bg-white/80 transition-all">
                        <input type="checkbox" name="symptom" value="‡πÄ‡∏´‡∏á‡∏∑‡∏≠‡∏Å‡∏ö‡∏ß‡∏°"
                            class="rounded text-primary-500 focus:ring-primary-500 border-gray-300">
                        <span class="text-sm text-gray-700">‡πÄ‡∏´‡∏á‡∏∑‡∏≠‡∏Å‡∏ö‡∏ß‡∏°</span>
                    </label>
                </div>
                <div class="mt-3">
                    <input type="text" id="symptomOther" placeholder="‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏)"
                        class="w-full px-4 py-2 text-sm bg-white/50 border border-gray-200 rounded-xl focus:outline-none focus:border-primary-400 focus:bg-white transition-all">
                </div>

                <!-- Price Summary -->
                <div class="space-y-3 py-2 animate-slide-up" style="animation-delay: 0.4s;">
                    <div class="flex justify-between text-gray-500 text-sm px-2">
                        <span>‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô</span>
                        <span id="labelBasePrice" class="font-medium">0 ‡∏ø</span>
                    </div>
                    <!-- Dynamic Discount Row -->
                    <div class="flex justify-between text-teal-600 text-sm font-medium px-2 rounded-lg bg-teal-50 p-2"
                        id="rowDiscount" style="display:none;">
                        <div class="flex items-center gap-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span id="labelRightName">‡∏´‡∏±‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥</span>
                        </div>
                        <span id="labelDiscount">-0 ‡∏ø</span>
                    </div>

                    <div
                        class="flex justify-between items-center border-t border-dashed border-gray-200 pt-4 mt-2 px-2">
                        <span class="text-gray-600 text-sm">‡∏¢‡∏≠‡∏î‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏™‡∏∏‡∏ó‡∏ò‡∏¥</span>
                        <span class="text-xl font-semibold text-gray-800" id="priceDisplay">0 ‡∏ø</span>
                    </div>
                </div>

                <!-- Customer Form -->
                <div class="space-y-4 pt-4 animate-slide-up" style="animation-delay: 0.5s;">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="relative">
                            <input type="text" id="customerName"
                                class="block w-full px-4 py-3 text-sm text-gray-900 bg-white rounded-xl border border-gray-200 appearance-none focus:outline-none focus:ring-0 focus:border-primary-500 peer placeholder-transparent"
                                placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢" />
                            <label for="customerName"
                                class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 peer-focus:px-2 peer-focus:text-primary-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-3">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢</label>
                        </div>
                        <div class="relative">
                            <input type="tel" id="customerPhone"
                                class="block w-full px-4 py-3 text-sm text-gray-900 bg-white rounded-xl border border-gray-200 appearance-none focus:outline-none focus:ring-0 focus:border-primary-500 peer placeholder-transparent"
                                placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå" />
                            <label for="customerPhone"
                                class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 peer-focus:px-2 peer-focus:text-primary-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-3">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                        </div>
                    </div>

                    <button onclick="submitData()" id="btnSubmit"
                        class="w-full bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-semibold py-4 rounded-xl shadow-lg shadow-primary-200 transition-all duration-300 transform hover:-translate-y-0.5 relative overflow-hidden group">
                        <span class="relative z-10 flex items-center justify-center gap-2">
                            ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß
                            <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none"
                                stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                            </svg>
                        </span>
                        <div
                            class="absolute inset-0 bg-white/20 group-hover:translate-x-full transition-transform duration-700 ease-in-out -skew-x-12 -translate-x-full">
                        </div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Logic Script (Preserved intact) -->
        <script>
            const API_URL = "https://script.google.com/macros/s/AKfycbyrTyj6EWJaMVPqBhFC-yNKTyP8uEr6tiITjxkwie7Vi_w9NXoH_QKjQcsbYtgYdIVuWQ/exec";

            window.onload = async function () {
                try {
                    if (API_URL.includes("‡∏ß‡∏≤‡∏á_URL")) {
                        alert("‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡πÉ‡∏™‡πà URL Google Apps Script ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö!");
                        return;
                    }

                    // ‡∏™‡∏±‡πà‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å GAS
                    const response = await fetch(API_URL);
                    const result = await response.json();

                    if (result.status !== "success") throw new Error("API Error");

                    const select = document.getElementById('serviceSelect');
                    select.innerHTML = '<option value="0" data-price="0" data-type="none">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤ --</option>';

                    result.data.forEach(service => {
                        let option = document.createElement('option');
                        option.text = `${service.name} (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ${parseInt(service.price).toLocaleString()}.-)`;
                        option.value = service.name;
                        option.dataset.price = service.price;
                        option.dataset.type = service.category ? service.category.toLowerCase() : "basic";
                        select.add(option);
                    });

                } catch (error) {
                    console.error(error);
                    document.getElementById('serviceSelect').innerHTML = '<option>‚ùå ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</option>';
                }
            };

            function calculatePrice() {
                const select = document.getElementById('serviceSelect');
                const selectedOption = select.options[select.selectedIndex];

                if (!selectedOption) return { netPrice: 0, paymentTypeText: "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å", totalGross: 0, discountAmt: 0 };

                const baseTreatmentPrice = parseInt(selectedOption.dataset.price || 0);
                const type = selectedOption.dataset.type || "basic";

                let addOnPrice = 0;
                if (document.getElementById('checkXray').checked) addOnPrice += 500;
                if (document.getElementById('checkRetainer').checked) addOnPrice += 3000;

                const totalGross = baseTreatmentPrice + addOnPrice;

                const paymentType = document.querySelector('input[name="paymentType"]:checked').value;
                let discount = 0;
                let discountLabel = "";
                let warningMsg = "";

                if (paymentType === 'sso') {
                    if (type === 'cosmetic') {
                        warningMsg = "‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≤‡∏°";
                        discount = 0;
                    } else {
                        discount = Math.min(baseTreatmentPrice, 900);
                        discountLabel = "‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏° (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 900.-)";
                    }
                } else if (paymentType === 'gold') {
                    if (type === 'cosmetic') {
                        warningMsg = "‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏ö‡∏±‡∏ï‡∏£‡∏ó‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≤‡∏°";
                        discount = 0;
                    } else {
                        discount = baseTreatmentPrice;
                        discountLabel = "‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏ö‡∏±‡∏ï‡∏£‡∏ó‡∏≠‡∏á/30‡∏ö‡∏≤‡∏ó";
                    }
                }

                if (warningMsg) {
                    Swal.fire({
                        toast: true, position: 'top', icon: 'info',
                        title: warningMsg, showConfirmButton: false, timer: 3000
                    });
                    document.querySelector('input[value="cash"]').checked = true;
                    return calculatePrice();
                }

                document.getElementById('labelBasePrice').innerText = totalGross.toLocaleString() + " ‡∏ø";

                const rowDiscount = document.getElementById('rowDiscount');
                if (discount > 0) {
                    rowDiscount.style.display = 'flex';
                    document.getElementById('labelRightName').innerText = discountLabel;
                    document.getElementById('labelDiscount').innerText = "-" + discount.toLocaleString() + " ‡∏ø";
                } else {
                    rowDiscount.style.display = 'none';
                }

                const netPrice = totalGross - discount;
                document.getElementById('priceDisplay').innerText = netPrice.toLocaleString() + " ‡∏ø";

                return {
                    netPrice: netPrice,
                    paymentTypeText: discountLabel || "‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå",
                    totalGross: totalGross,
                    discountAmt: discount
                };
            }

            function submitData() {
                const name = document.getElementById('customerName').value;
                const phone = document.getElementById('customerPhone').value;
                const select = document.getElementById('serviceSelect');

                if (select.value == "0" || !name || !phone) {
                    Swal.fire({ title: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö', text: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠', icon: 'warning', confirmButtonColor: '#0ea5e9' });
                    return;
                }

                const calcResult = calculatePrice();
                const btn = document.getElementById('btnSubmit');
                const originalText = btn.innerHTML;

                btn.innerHTML = '<span class="flex items-center gap-2"><svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...</span>';
                btn.disabled = true;

                const symptoms = Array.from(document.querySelectorAll('input[name="symptom"]:checked')).map(cb => cb.value);
                const otherSymptom = document.getElementById('symptomOther').value.trim();
                if (otherSymptom) symptoms.push(otherSymptom);

                const payload = {
                    name: name,
                    phone: phone,
                    symptoms: symptoms.join(", "),
                    service: select.value,
                    paymentType: calcResult.paymentTypeText,
                    priceFull: calcResult.totalGross,
                    discount: calcResult.discountAmt,
                    priceNet: calcResult.netPrice
                };

                fetch(API_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                }).then(() => {
                    Swal.fire({ title: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', text: '‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏™‡∏¥‡∏ó‡∏ò‡∏¥', icon: 'success', confirmButtonColor: '#0ea5e9' });
                    document.getElementById('customerName').value = '';
                    document.getElementById('customerPhone').value = '';
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                }).catch(err => {
                    console.error(err);
                    Swal.fire({ title: 'Error', text: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠', icon: 'error', confirmButtonColor: '#ef4444' });
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                });
            }
        </script>
</body>

</html>
